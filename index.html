<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Welcome Wedding</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Inter', 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #fef9f0 0%, #f5e6d3 50%, #f0e0c9 100%);
      min-height: 100vh;
      padding: 20px;
      color: #5c4b37;
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(244, 228, 177, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(255, 250, 240, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px 30px;
      background: linear-gradient(135deg, rgba(255, 248, 240, 0.95) 0%, rgba(255, 245, 235, 0.9) 100%);
      border-radius: 24px;
      box-shadow: 0 12px 40px rgba(92, 75, 55, 0.08);
      border: 1px solid rgba(255, 240, 220, 0.6);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #d4af37, #f4e4b1, #d4af37);
    }

    .header::after {
      content: 'ğŸ’';
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      opacity: 0.3;
    }

    .header h1 {
      font-family: 'Dancing Script', cursive;
      color: #8b6b46;
      font-size: 48px;
      margin-bottom: 12px;
      font-weight: 600;
      letter-spacing: 1px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(45deg, #d4af37, #f4e4b1, #d4af37);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      animation: gradientShift 3s ease infinite;
    }

    @keyframes gradientShift {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .header p {
      color: #8c7b69;
      font-size: 18px;
      font-weight: 300;
      opacity: 0.9;
    }

    .search-box {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 250, 240, 0.9) 100%);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 8px 32px rgba(92, 75, 55, 0.06);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 240, 220, 0.8);
      backdrop-filter: blur(8px);
    }

    .search-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #d4af37, #f4e4b1, #d4af37);
    }

    .search-box::after {
      content: 'ğŸ”';
      position: absolute;
      top: -20px;
      right: 20px;
      font-size: 20px;
      opacity: 0.2;
    }

    .search-input {
      width: 100%;
      padding: 18px 24px;
      font-size: 18px;
      border: 2px solid #e8d9c5;
      border-radius: 16px;
      outline: none;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.8);
      color: #5c4b37;
      font-weight: 400;
    }

    .search-input:focus {
      border-color: #d4af37;
      background: white;
      box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.15);
      transform: translateY(-1px);
    }

    .search-input::placeholder {
      color: #a89a87;
      font-weight: 300;
    }

    .search-hint {
      margin-top: 16px;
      color: #8c7b69;
      font-size: 15px;
      text-align: center;
      font-weight: 300;
      opacity: 0.8;
    }

    .result-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 250, 240, 0.9) 100%);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 8px 32px rgba(92, 75, 55, 0.06);
      display: none;
      animation: slideUp 0.4s ease;
      border: 1px solid rgba(255, 240, 220, 0.8);
      backdrop-filter: blur(8px);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .result-card.show {
      display: block;
    }

    .table-number {
      font-size: 24px;
      color: #8b6b46;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: 'Playfair Display', serif;
    }

    .table-number::before {
      content: 'ğŸ·ï¸';
      font-size: 28px;
    }

    .guest-list {
      list-style: none;
      margin-top: 20px;
    }

    .guest-list li {
      padding: 16px 20px;
      border-bottom: 1px solid rgba(232, 217, 197, 0.5);
      font-size: 18px;
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
      color: #5c4b37;
      border-radius: 10px;
      margin-bottom: 8px;
    }

    .guest-list li:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }

    .guest-list li:hover {
      background: rgba(255, 250, 240, 0.6);
      transform: translateX(5px);
    }

    .guest-list li.highlight {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), rgba(244, 228, 177, 0.1));
      border-radius: 10px;
      color: #8b6b46;
      font-weight: 600;
      transform: translateX(8px);
      border-left: 4px solid #d4af37;
    }

    .guest-list li::before {
      content: 'ğŸ‘¤';
      margin-right: 12px;
      opacity: 0.7;
      font-size: 20px;
    }

    .empty-result {
      text-align: center;
      padding: 60px 30px;
      color: #8c7b69;
      font-size: 20px;
      font-weight: 300;
    }

    .empty-result::before {
      content: 'ğŸ”';
      font-size: 64px;
      display: block;
      margin-bottom: 20px;
      opacity: 0.4;
    }

    .table-map {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 250, 240, 0.9) 100%);
      border-radius: 20px;
      padding: 30px;
      margin-top: 40px;
      box-shadow: 0 8px 32px rgba(92, 75, 55, 0.06);
      border: 1px solid rgba(255, 240, 220, 0.8);
      backdrop-filter: blur(8px);
    }

    .table-map h3 {
      color: #8b6b46;
      margin-bottom: 25px;
      font-size: 22px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
    }

    .table-map h3::before {
      content: 'ğŸ—ºï¸';
      font-size: 26px;
    }

    .tables-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 16px;
    }

    .table-item {
      background: linear-gradient(135deg, rgba(255, 250, 240, 0.8) 0%, rgba(240, 230, 210, 0.6) 100%);
      border-radius: 16px;
      padding: 20px 10px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid rgba(232, 217, 197, 0.5);
      position: relative;
      overflow: hidden;
    }

    .table-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #d4af37, #f4e4b1);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .table-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(92, 75, 55, 0.1);
      border-color: rgba(212, 175, 55, 0.3);
    }

    .table-item:hover::before {
      transform: scaleX(1);
    }

    .table-item.active {
      background: linear-gradient(135deg, #d4af37 0%, #f4e4b1 100%);
      color: white;
      border-color: #d4af37;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.3);
    }

    .table-item.active::before {
      transform: scaleX(1);
      background: rgba(255, 255, 255, 0.3);
    }

    .table-number-circle {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 6px;
      font-family: 'Playfair Display', serif;
    }

    .table-guest-count {
      font-size: 13px;
      opacity: 0.8;
      font-weight: 300;
    }

    .instructions {
      margin-top: 40px;
      padding: 30px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 250, 240, 0.7) 100%);
      border-radius: 20px;
      font-size: 15px;
      color: #8c7b69;
      line-height: 1.7;
      border: 1px solid rgba(255, 240, 220, 0.6);
      backdrop-filter: blur(8px);
    }

    .instructions h4 {
      color: #8b6b46;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      font-size: 18px;
    }

    .instructions h4::before {
      content: 'ğŸ’¡';
      font-size: 20px;
    }

    .instructions p {
      margin-bottom: 12px;
      padding-left: 8px;
      border-left: 2px solid rgba(212, 175, 55, 0.3);
    }

    .wedding-timeline {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 250, 240, 0.9) 100%);
      border-radius: 20px;
      padding: 30px;
      margin-top: 40px;
      box-shadow: 0 8px 32px rgba(92, 75, 55, 0.06);
      border: 1px solid rgba(255, 240, 220, 0.8);
      backdrop-filter: blur(8px);
    }

    .wedding-timeline h3 {
      color: #8b6b46;
      margin-bottom: 25px;
      font-size: 22px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
    }

    .timeline-container {
      position: relative;
    }

    .timeline-container::before {
      content: '';
      position: absolute;
      left: 30px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #d4af37, #f4e4b1, #d4af37);
    }

    .timeline-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 30px;
      position: relative;
      opacity: 0;
      transform: translateX(-20px);
      animation: timelineSlideIn 0.6s ease forwards;
    }

    .timeline-item:nth-child(1) { animation-delay: 0.1s; }
    .timeline-item:nth-child(2) { animation-delay: 0.3s; }
    .timeline-item:nth-child(3) { animation-delay: 0.5s; }

    @keyframes timelineSlideIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .timeline-item:last-child {
      margin-bottom: 0;
    }

    .timeline-time {
      background: linear-gradient(135deg, #d4af37, #f4e4b1);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 16px;
      min-width: 80px;
      text-align: center;
      margin-right: 20px;
      position: relative;
      z-index: 2;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
    }

    .timeline-content {
      flex: 1;
      background: rgba(255, 250, 240, 0.6);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid #d4af37;
    }

    .timeline-content h4 {
      color: #8b6b46;
      margin-bottom: 8px;
      font-size: 18px;
      font-weight: 600;
    }

    .timeline-content p {
      color: #8c7b69;
      font-size: 15px;
      line-height: 1.5;
      margin: 0;
    }

    .footer {
      text-align: center;
      margin-top: 50px;
      color: #8c7b69;
      font-size: 16px;
      padding: 30px 20px;
      font-weight: 300;
      opacity: 0.8;
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
        max-width: 100%;
      }

      .header {
        padding: 30px 20px;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: 36px;
      }

      .header p {
        font-size: 16px;
      }

      .search-box, .result-card, .table-map, .wedding-timeline, .instructions {
        padding: 25px 20px;
        margin-bottom: 25px;
      }

      .timeline-container::before {
        left: 20px;
      }

      .timeline-time {
        min-width: 70px;
        margin-right: 15px;
        font-size: 14px;
        padding: 6px 12px;
      }

      .timeline-content {
        padding: 15px;
      }

      .timeline-content h4 {
        font-size: 16px;
      }

      .timeline-content p {
        font-size: 14px;
      }

      .search-input {
        padding: 16px 20px;
        font-size: 16px;
      }

      .tables-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 12px;
      }

      .table-item {
        padding: 16px 8px;
      }

      .table-number-circle {
        font-size: 18px;
      }

      .guest-list li {
        padding: 14px 16px;
        font-size: 16px;
      }

      .empty-result {
        padding: 40px 20px;
        font-size: 18px;
      }

      .empty-result::before {
        font-size: 48px;
      }
    }

    @media (max-width: 480px) {
      .header h1 {
        font-size: 32px;
      }

      .tables-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 10px;
      }

      .table-item {
        padding: 14px 6px;
      }

      .table-number-circle {
        font-size: 16px;
      }

      .table-guest-count {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>ğŸ’’ Welcome Wedding</h1>
    <p>è¾“å…¥å§“åã€æ‹¼éŸ³æˆ–é¦–å­—æ¯æŸ¥è¯¢åº§ä½ä¿¡æ¯</p>
  </div>

  <div class="search-box">
    <input
            type="text"
            class="search-input"
            placeholder="è¯·è¾“å…¥å®¾å®¢å§“åï¼ˆå¦‚ï¼šæ—ç¥æ˜Šã€linyuehao æˆ– lyhï¼‰"
            id="searchInput"
            autocomplete="off"
    >
    <div class="search-hint">
      ğŸ’¡ æ”¯æŒä¸­æ–‡å§“åã€å…¨æ‹¼ã€æ‹¼éŸ³é¦–å­—æ¯æœç´¢
    </div>
  </div>

  <div class="result-card" id="resultCard">
    <div class="table-number" id="tableNumber"></div>
    <ul class="guest-list" id="guestList"></ul>
  </div>

  <div class="empty-result" id="emptyResult">
    è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢
  </div>

  <div class="table-map">
    <h3>åº§ä½åˆ†å¸ƒå›¾ï¼ˆå…±15æ¡Œï¼‰</h3>
    <div class="tables-grid" id="tablesGrid"></div>
  </div>

  <div class="wedding-timeline">
    <h3>ğŸ’« å©šç¤¼æ—¶é—´å®‰æ’</h3>
    <div class="timeline-container">
      <div class="timeline-item">
        <div class="timeline-time">10:00</div>
        <div class="timeline-content">
          <h4>å®¤å†…åˆç…§ç¯èŠ‚</h4>
          <p>ä¸æ–°äººåˆå½±ç•™å¿µï¼Œè®°å½•ç¾å¥½æ—¶åˆ»</p>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-time">11:38</div>
        <div class="timeline-content">
          <h4>ä»ªå¼ç¯èŠ‚</h4>
          <p>å©šç¤¼æ­£å¼ä»ªå¼ï¼Œè§è¯å¹¸ç¦æ—¶åˆ»</p>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-time">14:00</div>
        <div class="timeline-content">
          <h4>é¤åå¨±ä¹</h4>
          <p>è¯·è‡³èŒ¶æ¥¼ï¼Œå®‰æ’æœ‰éº»å°†å¨±ä¹</p>
        </div>
      </div>
    </div>
  </div>

  <div class="instructions">
    <h4>ä½¿ç”¨è¯´æ˜</h4>
    <p>1. åœ¨æœç´¢æ¡†è¾“å…¥å®¾å®¢å§“åã€æ‹¼éŸ³æˆ–æ‹¼éŸ³é¦–å­—æ¯</p>
    <p>2. ç‚¹å‡»åº§ä½åˆ†å¸ƒå›¾ä¸­çš„æ¡Œå·å¯æŸ¥çœ‹è¯¥æ¡Œå®¾å®¢</p>
    <p>3. æœç´¢ç»“æœä¸­ï¼Œå½“å‰æœç´¢çš„å®¾å®¢ä¼šé«˜äº®æ˜¾ç¤º</p>
    <p>4. å¯ç›´æ¥åˆ†äº«æ­¤é¡µé¢é“¾æ¥ç»™å…¶ä»–å®¾å®¢</p>
  </div>

  <div class="footer">
    ç¥æ‚¨æœ‰ä¸€ä¸ªç¾å¥½çš„å©šç¤¼ä½“éªŒ ğŸ’
  </div>
</div>

<script>
  // æ‹¼éŸ³è½¬æ¢å·¥å…·ï¼ˆç®€ç‰ˆï¼‰
  const pinyinDict = {
    'é»„': 'huang', 'éœ²': 'lu',
    'åˆ˜': 'liu', 'äº¦': 'yi', 'ä¹': 'le',
    'èƒ¡': 'hu', 'å®¶': 'jia', 'é“­': 'ming',
    'æ—': 'lin', 'ç¥': 'yue', 'æ˜Š': 'hao',
    'é«˜': 'gao', 'é‘«': 'xin',
    'å¼ ': 'zhang', 'ç¯': 'huan', 'å®‡': 'yu',
    'æ°': 'jie', 'ç‹': 'wang', 'é’°': 'yu', 'è½©': 'xuan',
    'ç½—': 'luo', 'ç¿”': 'xiang',
    'èµµ': 'zhao', 'æ¬£': 'xin', 'æ–°': 'xin',
    'æ–¯': 'si', 'å°': 'xiao', 'å¯’': 'han',
    'æ½˜': 'pan', 'ä¿Š': 'jun', 'ä¼¯': 'bo',
    // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–å­—ç¬¦
  };

  function getPinyin(name) {
    let fullPinyin = '';
    let initials = '';

    for (let char of name) {
      if (pinyinDict[char]) {
        fullPinyin += pinyinDict[char];
        initials += pinyinDict[char].charAt(0);
      } else {
        fullPinyin += char;
        initials += char;
      }
    }

    return {
      fullPinyin: fullPinyin.toLowerCase(),
      initials: initials.toLowerCase()
    };
  }

  // å®¾å®¢æ•°æ®
  const guestsData = [
    {
      table: 1,
      guests: [
        { name: "é»„éœ²" },
        { name: "åˆ˜äº¦ä¹" },
        { name: "èƒ¡å®¶é“­" },
        { name: "æ—ç¥æ˜Š" },
        { name: "é«˜é‘«" }
      ]
    },
    {
      table: 2,
      guests: [
        { name: "å¼ ç¯å®‡" },
        { name: "åˆ˜æ°" },
        { name: "ç‹é’°è½©" },
        { name: "ç½—å®‡ç¿”" },
        { name: "èµµæ¬£æ–°" },
        { name: "æ–¯å°å¯’" },
        { name: "æ½˜ä¿Šä¼¯" }
      ]
    },
    // è¿™é‡Œæ·»åŠ ç¬¬3-15æ¡Œçš„æ•°æ®ï¼Œæ ¼å¼ç›¸åŒ
    // ä¸ºæ¼”ç¤ºï¼Œå…ˆæ·»åŠ ä¸€äº›ç¤ºä¾‹æ•°æ®
    {
      table: 3,
      guests: [
        { name: "ææ˜" },
        { name: "ç‹èŠ³" },
        { name: "å¼ ä¼Ÿ" },
        { name: "åˆ˜æ´‹" },
        { name: "é™ˆé™" }
      ]
    },
    {
      table: 4,
      guests: [
        { name: "å‘¨æ¶›" },
        { name: "å´éœ" },
        { name: "éƒ‘å†›" },
        { name: "å­™ä¸½" },
        { name: "é’±å‹‡" }
      ]
    },
    // ... ç»§ç»­æ·»åŠ ç›´åˆ°15æ¡Œ
  ];

  // ä¸ºæ‰€æœ‰å®¾å®¢ç”Ÿæˆæ‹¼éŸ³æ•°æ®
  guestsData.forEach(tableData => {
    tableData.guests.forEach(guest => {
      const pinyinData = getPinyin(guest.name);
      guest.fullPinyin = pinyinData.fullPinyin;
      guest.initials = pinyinData.initials;
    });
  });

  // DOMå…ƒç´ 
  const searchInput = document.getElementById('searchInput');
  const resultCard = document.getElementById('resultCard');
  const tableNumber = document.getElementById('tableNumber');
  const guestList = document.getElementById('guestList');
  const emptyResult = document.getElementById('emptyResult');
  const tablesGrid = document.getElementById('tablesGrid');

  // æœç´¢å‡½æ•°
  function searchGuest(query) {
    query = query.trim().toLowerCase();
    if (!query) {
      resultCard.classList.remove('show');
      emptyResult.style.display = 'block';
      emptyResult.innerHTML = 'è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢';
      return;
    }

    let found = false;

    // éå†æ‰€æœ‰æ¡Œ
    guestsData.forEach(tableData => {
      // éå†è¯¥æ¡Œæ‰€æœ‰å®¾å®¢
      tableData.guests.forEach(guest => {
        // æ£€æŸ¥æ˜¯å¦åŒ¹é…ï¼ˆå§“åã€å…¨æ‹¼ã€é¦–å­—æ¯ï¼‰
        if (guest.name.toLowerCase().includes(query) ||
                guest.fullPinyin.includes(query) ||
                guest.initials.includes(query)) {

          displayResult(tableData, guest.name);
          found = true;
        }
      });
    });

    if (!found) {
      resultCard.classList.remove('show');
      emptyResult.style.display = 'block';
      emptyResult.innerHTML = `æœªæ‰¾åˆ° "${query}" å¯¹åº”çš„å®¾å®¢<br><small>è¯·æ£€æŸ¥è¾“å…¥æ˜¯å¦æ­£ç¡®</small>`;
    }
  }

  // æ˜¾ç¤ºç»“æœ
  function displayResult(tableData, highlightName) {
    resultCard.classList.add('show');
    emptyResult.style.display = 'none';

    tableNumber.innerHTML = `ç¬¬ ${tableData.table} æ¡Œ`;

    guestList.innerHTML = '';
    tableData.guests.forEach((guest, index) => {
      const li = document.createElement('li');
      li.textContent = guest.name;
      if (guest.name === highlightName) {
        li.classList.add('highlight');
      }
      // æ·»åŠ å»¶è¿ŸåŠ¨ç”»
      li.style.animation = `fadeIn 0.3s ease ${index * 0.1}s both`;
      guestList.appendChild(li);
    });

    // æ›´æ–°åº§ä½å›¾é«˜äº®
    updateTableHighlight(tableData.table);
  }

  // æ˜¾ç¤ºæŸæ¡Œçš„æ‰€æœ‰å®¾å®¢
  function showTableGuests(tableNum) {
    const tableData = guestsData.find(t => t.table === tableNum);
    if (tableData) {
      displayResult(tableData, '');
      searchInput.value = '';
    }
  }

  // æ›´æ–°åº§ä½å›¾é«˜äº®
  function updateTableHighlight(activeTable) {
    document.querySelectorAll('.table-item').forEach(item => {
      const tableNum = parseInt(item.dataset.table);
      if (tableNum === activeTable) {
        item.classList.add('active');
      } else {
        item.classList.remove('active');
      }
    });
  }

  // åˆå§‹åŒ–åº§ä½åˆ†å¸ƒå›¾
  function initTableMap() {
    guestsData.forEach((tableData, index) => {
      const tableDiv = document.createElement('div');
      tableDiv.className = 'table-item';
      tableDiv.dataset.table = tableData.table;

      tableDiv.innerHTML = `
                    <div class="table-number-circle">${tableData.table}</div>
                    <div class="table-guest-count">${tableData.guests.length}äºº</div>
                `;

      // æ·»åŠ å»¶è¿ŸåŠ¨ç”»
      tableDiv.style.animation = `fadeIn 0.4s ease ${index * 0.05}s both`;

      tableDiv.addEventListener('click', () => {
        showTableGuests(tableData.table);
      });

      tablesGrid.appendChild(tableDiv);
    });
  }

  // åˆå§‹åŒ–
  document.addEventListener('DOMContentLoaded', () => {
    // é¡µé¢åŠ è½½åŠ¨ç”»
    document.body.style.opacity = '0';
    document.body.style.transition = 'opacity 0.6s ease';
    
    setTimeout(() => {
      document.body.style.opacity = '1';
    }, 100);

    initTableMap();

    // æœç´¢è¾“å…¥äº‹ä»¶
    let searchTimer;
    searchInput.addEventListener('input', (e) => {
      clearTimeout(searchTimer);
      searchTimer = setTimeout(() => {
        searchGuest(e.target.value);
      }, 300);
    });

    // æ˜¾ç¤ºä½¿ç”¨è¯´æ˜
    setTimeout(() => {
      if (!searchInput.value) {
        emptyResult.innerHTML = 'è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢<br><small>ä¾‹å¦‚ï¼šæ—ç¥æ˜Šã€linyuehao æˆ– lyh</small>';
      }
    }, 1000);
  });

  // URLå‚æ•°å¤„ç†ï¼ˆæ”¯æŒç›´æ¥åˆ†äº«é“¾æ¥ï¼‰
  function checkUrlParams() {
    const urlParams = new URLSearchParams(window.location.search);
    const name = urlParams.get('name');
    if (name) {
      searchInput.value = name;
      searchGuest(name);
    }
  }

  // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥URLå‚æ•°
  window.addEventListener('load', checkUrlParams);
</script>
</body>
</html>
