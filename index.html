<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å©šç¤¼å®¾å®¢åº§ä½æŸ¥è¯¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: "PingFang SC", "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #f9f0ff 0%, #e6f7ff 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .header h1 {
            color: #e91e63;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }

        .header p {
            color: #666;
            font-size: 16px;
        }

        .search-box {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
            border: 1px solid #f0f0f0;
        }

        .search-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b9d, #ff8e53);
        }

        .search-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            outline: none;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .search-input:focus {
            border-color: #ff6b9d;
            background: white;
            box-shadow: 0 0 0 3px rgba(255, 107, 157, 0.1);
        }

        .search-input::placeholder {
            color: #aaa;
        }

        .search-hint {
            margin-top: 12px;
            color: #777;
            font-size: 14px;
            text-align: center;
        }

        .result-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            display: none;
            animation: slideUp 0.3s ease;
            border: 1px solid #f0f0f0;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-card.show {
            display: block;
        }

        .table-number {
            font-size: 22px;
            color: #e91e63;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .table-number::before {
            content: 'ğŸ·ï¸';
        }

        .guest-list {
            list-style: none;
            margin-top: 15px;
        }

        .guest-list li {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 17px;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }

        .guest-list li:last-child {
            border-bottom: none;
        }

        .guest-list li.highlight {
            background: linear-gradient(90deg, rgba(255, 107, 157, 0.1), rgba(255, 142, 83, 0.1));
            border-radius: 8px;
            color: #e91e63;
            font-weight: bold;
            transform: translateX(5px);
        }

        .guest-list li::before {
            content: 'ğŸ‘¤';
            margin-right: 10px;
            opacity: 0.6;
        }

        .empty-result {
            text-align: center;
            padding: 40px 20px;
            color: #888;
            font-size: 18px;
        }

        .empty-result::before {
            content: 'ğŸ”';
            font-size: 48px;
            display: block;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .table-map {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
        }

        .table-map h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .table-map h3::before {
            content: 'ğŸ—ºï¸';
        }

        .tables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 12px;
        }

        .table-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            border-radius: 10px;
            padding: 15px 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .table-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .table-item.active {
            background: linear-gradient(135deg, #ff6b9d 0%, #ff8e53 100%);
            color: white;
            border-color: #ff6b9d;
        }

        .table-number-circle {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .table-guest-count {
            font-size: 12px;
            opacity: 0.8;
        }

        .instructions {
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .instructions h4 {
            color: #333;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .instructions h4::before {
            content: 'ğŸ’¡';
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            color: #888;
            font-size: 14px;
            padding: 20px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 24px;
            }

            .search-box,
            .result-card,
            .table-map {
                padding: 20px;
            }

            .tables-grid {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‰ å©šç¤¼å®¾å®¢åº§ä½æŸ¥è¯¢</h1>
            <p>è¾“å…¥å§“åã€æ‹¼éŸ³æˆ–é¦–å­—æ¯æŸ¥è¯¢åº§ä½ä¿¡æ¯</p>
        </div>

        <div class="search-box">
            <input type="text" class="search-input" placeholder="è¯·è¾“å…¥å®¾å®¢å§“åï¼ˆå¦‚ï¼šæ—ç¥æ˜Šã€linyuehao æˆ– lyhï¼‰" id="searchInput"
                autocomplete="off">
            <div class="search-hint">
                ğŸ’¡ æ”¯æŒä¸­æ–‡å§“åã€å…¨æ‹¼ã€æ‹¼éŸ³é¦–å­—æ¯æœç´¢
            </div>
        </div>

        <div class="result-card" id="resultCard">
            <div class="table-number" id="tableNumber"></div>
            <ul class="guest-list" id="guestList"></ul>
        </div>

        <div class="empty-result" id="emptyResult">
            è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢
        </div>

        <div class="table-map">
            <h3>åº§ä½åˆ†å¸ƒå›¾ï¼ˆå…±15æ¡Œï¼‰</h3>
            <div class="tables-grid" id="tablesGrid"></div>
        </div>

        <div class="instructions">
            <h4>ä½¿ç”¨è¯´æ˜</h4>
            <p>1. åœ¨æœç´¢æ¡†è¾“å…¥å®¾å®¢å§“åã€æ‹¼éŸ³æˆ–æ‹¼éŸ³é¦–å­—æ¯</p>
            <p>2. ç‚¹å‡»åº§ä½åˆ†å¸ƒå›¾ä¸­çš„æ¡Œå·å¯æŸ¥çœ‹è¯¥æ¡Œå®¾å®¢</p>
            <p>3. æœç´¢ç»“æœä¸­ï¼Œå½“å‰æœç´¢çš„å®¾å®¢ä¼šé«˜äº®æ˜¾ç¤º</p>
            <p>4. å¯ç›´æ¥åˆ†äº«æ­¤é¡µé¢é“¾æ¥ç»™å…¶ä»–å®¾å®¢</p>
        </div>

        <div class="footer">
            ç¥æ‚¨æœ‰ä¸€ä¸ªæ„‰å¿«çš„å©šç¤¼ä½“éªŒ ğŸ’•
        </div>
    </div>

    <script>
        // æ‹¼éŸ³è½¬æ¢å·¥å…·ï¼ˆç®€ç‰ˆï¼‰
        const pinyinDict = {
            'é»„': 'huang', 'éœ²': 'lu',
            'åˆ˜': 'liu', 'äº¦': 'yi', 'ä¹': 'le',
            'èƒ¡': 'hu', 'å®¶': 'jia', 'é“­': 'ming',
            'æ—': 'lin', 'ç¥': 'yue', 'æ˜Š': 'hao',
            'é«˜': 'gao', 'é‘«': 'xin',
            'å¼ ': 'zhang', 'ç¯': 'huan', 'å®‡': 'yu',
            'æ°': 'jie', 'ç‹': 'wang', 'é’°': 'yu', 'è½©': 'xuan',
            'ç½—': 'luo', 'ç¿”': 'xiang',
            'èµµ': 'zhao', 'æ¬£': 'xin', 'æ–°': 'xin',
            'æ–¯': 'si', 'å°': 'xiao', 'å¯’': 'han',
            'æ½˜': 'pan', 'ä¿Š': 'jun', 'ä¼¯': 'bo',
            // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–å­—ç¬¦
        };

        function getPinyin(name) {
            let fullPinyin = '';
            let initials = '';

            for (let char of name) {
                if (pinyinDict[char]) {
                    fullPinyin += pinyinDict[char];
                    initials += pinyinDict[char].charAt(0);
                } else {
                    fullPinyin += char;
                    initials += char;
                }
            }

            return {
                fullPinyin: fullPinyin.toLowerCase(),
                initials: initials.toLowerCase()
            };
        }

        // å®¾å®¢æ•°æ®
        const guestsData = [
            {
                table: 1,
                guests: [
                    { name: "é»„éœ²" },
                    { name: "åˆ˜äº¦ä¹" },
                    { name: "èƒ¡å®¶é“­" },
                    { name: "æ—ç¥æ˜Š" },
                    { name: "é«˜é‘«" }
                ]
            },
            {
                table: 2,
                guests: [
                    { name: "å¼ ç¯å®‡" },
                    { name: "åˆ˜æ°" },
                    { name: "ç‹é’°è½©" },
                    { name: "ç½—å®‡ç¿”" },
                    { name: "èµµæ¬£æ–°" },
                    { name: "æ–¯å°å¯’" },
                    { name: "æ½˜ä¿Šä¼¯" }
                ]
            },
            // è¿™é‡Œæ·»åŠ ç¬¬3-15æ¡Œçš„æ•°æ®ï¼Œæ ¼å¼ç›¸åŒ
            // ä¸ºæ¼”ç¤ºï¼Œå…ˆæ·»åŠ ä¸€äº›ç¤ºä¾‹æ•°æ®
            {
                table: 3,
                guests: [
                    { name: "ææ˜" },
                    { name: "ç‹èŠ³" },
                    { name: "å¼ ä¼Ÿ" },
                    { name: "åˆ˜æ´‹" },
                    { name: "é™ˆé™" }
                ]
            },
            {
                table: 4,
                guests: [
                    { name: "å‘¨æ¶›" },
                    { name: "å´éœ" },
                    { name: "éƒ‘å†›" },
                    { name: "å­™ä¸½" },
                    { name: "é’±å‹‡" }
                ]
            },
            // ... ç»§ç»­æ·»åŠ ç›´åˆ°15æ¡Œ
        ];

        // ä¸ºæ‰€æœ‰å®¾å®¢ç”Ÿæˆæ‹¼éŸ³æ•°æ®
        guestsData.forEach(tableData => {
            tableData.guests.forEach(guest => {
                const pinyinData = getPinyin(guest.name);
                guest.fullPinyin = pinyinData.fullPinyin;
                guest.initials = pinyinData.initials;
            });
        });

        // DOMå…ƒç´ 
        const searchInput = document.getElementById('searchInput');
        const resultCard = document.getElementById('resultCard');
        const tableNumber = document.getElementById('tableNumber');
        const guestList = document.getElementById('guestList');
        const emptyResult = document.getElementById('emptyResult');
        const tablesGrid = document.getElementById('tablesGrid');

        // æœç´¢å‡½æ•°
        function searchGuest(query) {
            query = query.trim().toLowerCase();
            if (!query) {
                resultCard.classList.remove('show');
                emptyResult.style.display = 'block';
                emptyResult.innerHTML = 'è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢';
                return;
            }

            let found = false;

            // éå†æ‰€æœ‰æ¡Œ
            guestsData.forEach(tableData => {
                // éå†è¯¥æ¡Œæ‰€æœ‰å®¾å®¢
                tableData.guests.forEach(guest => {
                    // æ£€æŸ¥æ˜¯å¦åŒ¹é…ï¼ˆå§“åã€å…¨æ‹¼ã€é¦–å­—æ¯ï¼‰
                    if (guest.name.toLowerCase().includes(query) ||
                        guest.fullPinyin.includes(query) ||
                        guest.initials.includes(query)) {

                        displayResult(tableData, guest.name);
                        found = true;
                    }
                });
            });

            if (!found) {
                resultCard.classList.remove('show');
                emptyResult.style.display = 'block';
                emptyResult.innerHTML = `æœªæ‰¾åˆ° "${query}" å¯¹åº”çš„å®¾å®¢<br><small>è¯·æ£€æŸ¥è¾“å…¥æ˜¯å¦æ­£ç¡®</small>`;
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function displayResult(tableData, highlightName) {
            resultCard.classList.add('show');
            emptyResult.style.display = 'none';

            tableNumber.innerHTML = `ç¬¬ ${tableData.table} æ¡Œ`;

            guestList.innerHTML = '';
            tableData.guests.forEach(guest => {
                const li = document.createElement('li');
                li.textContent = guest.name;
                if (guest.name === highlightName) {
                    li.classList.add('highlight');
                }
                guestList.appendChild(li);
            });

            // æ›´æ–°åº§ä½å›¾é«˜äº®
            updateTableHighlight(tableData.table);
        }

        // æ˜¾ç¤ºæŸæ¡Œçš„æ‰€æœ‰å®¾å®¢
        function showTableGuests(tableNum) {
            const tableData = guestsData.find(t => t.table === tableNum);
            if (tableData) {
                displayResult(tableData, '');
                searchInput.value = '';
            }
        }

        // æ›´æ–°åº§ä½å›¾é«˜äº®
        function updateTableHighlight(activeTable) {
            document.querySelectorAll('.table-item').forEach(item => {
                const tableNum = parseInt(item.dataset.table);
                if (tableNum === activeTable) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // åˆå§‹åŒ–åº§ä½åˆ†å¸ƒå›¾
        function initTableMap() {
            guestsData.forEach(tableData => {
                const tableDiv = document.createElement('div');
                tableDiv.className = 'table-item';
                tableDiv.dataset.table = tableData.table;

                tableDiv.innerHTML = `
                    <div class="table-number-circle">${tableData.table}</div>
                    <div class="table-guest-count">${tableData.guests.length}äºº</div>
                `;

                tableDiv.addEventListener('click', () => {
                    showTableGuests(tableData.table);
                });

                tablesGrid.appendChild(tableDiv);
            });
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initTableMap();

            // æœç´¢è¾“å…¥äº‹ä»¶
            let searchTimer;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimer);
                searchTimer = setTimeout(() => {
                    searchGuest(e.target.value);
                }, 300);
            });

            // æ˜¾ç¤ºä½¿ç”¨è¯´æ˜
            setTimeout(() => {
                if (!searchInput.value) {
                    emptyResult.innerHTML = 'è¯·è¾“å…¥å§“åè¿›è¡Œæœç´¢<br><small>ä¾‹å¦‚ï¼šæ—ç¥æ˜Šã€linyuehao æˆ– lyh</small>';
                }
            }, 1000);
        });

        // URLå‚æ•°å¤„ç†ï¼ˆæ”¯æŒç›´æ¥åˆ†äº«é“¾æ¥ï¼‰
        function checkUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name');
            if (name) {
                searchInput.value = name;
                searchGuest(name);
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥URLå‚æ•°
        window.addEventListener('load', checkUrlParams);
    </script>
</body>

</html>
